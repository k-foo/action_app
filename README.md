# README
# ã‚¢ãƒ—ãƒªå
ACTION
<br>

![icon](https://user-images.githubusercontent.com/68714247/108448237-ad24b880-72a4-11eb-8fab-b148a5b2ae1c.png)

ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ç¿’æ…£ã‚’ã‚«ã‚¦ãƒ³ãƒˆå‡ºæ¥ã‚‹ã“ã¨ã‹ã‚‰ã€â€ã‚¯ãƒªãƒƒã‚¯â€ã‚’ãƒ¢ãƒãƒ¼ãƒ•ã«ã—ãŸã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ­ã‚´ã‚’ä½œæˆã€‚
æ™‚é–“ã¯æœ‰é™ãªãŸã‚ã€ä»Šæ—¥ã‹ã‚‰è¡Œå‹•ã«ã¤ãªã’ã‚ˆã†ã¨ã„ã†æ„å‘³ã‚’è¾¼ã‚ã¦ã€ã€ŒLET'S START TODAYã€ã®ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã¤ã‘ãŸã€‚

<br><br>


# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ¦‚è¦

ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã¨ã€å¤§ããï¼”ã¤ã®æ©Ÿèƒ½ãŒã‚ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚

- æ–°è¦ç™»éŒ²å‰ã«ã©ã‚“ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ç”»åƒãªã©ã‚’ç”¨ã„ã¦èª¬æ˜ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«â€å®‰å¿ƒæ„Ÿâ€ã¨â€ä½¿ã£ã¦ã¿ãŸããªã‚‹å°è±¡â€ã‚’ä¸ãˆã‚‹ãŸã‚ã®ã€Œãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã€
- é£Ÿäº‹ãƒ»ç¡çœ ãƒ»é‹å‹•ãƒ»å­¦ã³ãƒ»ãƒã‚¤ãƒ³ãƒ‰ï¼•ã¤ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã”ã¨ã«æ—¥ã€…ã®å°ã•ãªç›®æ¨™ã‚’è¨­å®šã§ãã‚‹ã€Œã‚¤ãƒ•ã‚¼ãƒ³ãƒ«ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸ã€
- å°†æ¥åƒã‚„é”æˆã—ãŸã„ã“ã¨ãªã©ã€ä¸­é•·æœŸçš„ãªç›®æ¨™ã‚‚è¨­å®šã§ãã‚‹ã€Œç›®æ¨™è¨­å®šï¼ˆWOOPã®æ³•å‰‡ãƒšãƒ¼ã‚¸ï¼‰ã€
- ç¿’æ…£ã‚’ã‚«ã‚¦ãƒ³ãƒˆã—ã¦ã€ç©ã¿é‡ã­ã‚’å¯è¦–åŒ–ã§ãã‚‹ã€Œç¿’æ…£ã‚«ã‚¦ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã€
- é€”ä¸­ã§ä¸Šæ‰‹ãã„ã‹ãªã„ã“ã¨ãŒã‚ã£ã¦ã‚‚ã€è‡ªåˆ†ã®å¼±ã•ã‚’å—ã‘å…¥ã‚Œã¦åŠ±ã¾ã™ã“ã¨ãŒã§ãã‚‹ã€Œã‚»ãƒ«ãƒ•ã‚³ãƒ³ãƒ‘ãƒƒã‚·ãƒ§ãƒ³ãƒšãƒ¼ã‚¸ã€


<br><br>

# URL ï¼ˆAWS EC2ã«ã‚ˆã‚‹ãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰

http://18.176.166.90/

<br><br>

#### Basicèªè¨¼
- ID: admin
- Pass: 2222
<br>
<br>

# ãƒ†ã‚¹ãƒˆç”¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

- ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ : ã‚†ã£ã“
- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: yume@gmail.com
- yumeyume12345eee
- ç”Ÿå¹´æœˆæ—¥: 2000å¹´1æœˆ27æ—¥


<br>
<br>

# å®Ÿè£…æ©Ÿèƒ½

<br>
<br>

# ER å›³

![RE](https://user-images.githubusercontent.com/68714247/108610092-40c9c680-7416-11eb-90fa-1a3a012822ba.png)

<br>
<br>

# ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ

### users ãƒ†ãƒ¼ãƒ–ãƒ«

| Column             | Type   | Options                   |
| :----------------- | :----- | :------------------------ |
| nickname           | string | null: false               |
| email              | string | null: false, unique: true |
| encrypted_password | string | null: false               |
| birthdate          | date   | null: false               |

#### Association

- has_many :objectives
- has_many :troubles
- has_many :habits
- has_one  :rule

<br>

### objectives ãƒ†ãƒ¼ãƒ–ãƒ«

| Column      | Type       | Options                        |
| :---------- | :--------- | :----------------------------- |
| user        | references | null: false, foreign_key: true |
| title       | string     | null: false                    |
| category_id | integer    | null: false                    |
| wish        | text       | null: false                    |
| outcome     | text       | null: false                    |
| obstacle    | text       | null: false                    |
| plan        | text       | null: false                    |

#### Association

- belongs_to :user

<br>

### troubles ãƒ†ãƒ¼ãƒ–ãƒ«

| Column       | Type       | Options                        |
| :----------- | :--------- | :----------------------------- |
| user         | references | null: false, foreign_key: true |
| message_type | integer    |                                |
| worry        | text       | null: false                    |

#### Association

- belongs_to :user

<br>

### habits ãƒ†ãƒ¼ãƒ–ãƒ«

| Column    | Type       | Options                        |
| :-------- | :--------- | :----------------------------- |
| user      | references | null: false, foreign_key: true |
| count_1   | boolean    |                                |
| restart_1 | boolean    |                                |
| count_2   | boolean    |                                |
| restart_2 | boolean    |                                |
| count_3   | boolean    |                                |
| restart_3 | boolean    |                                |
| count_4   | boolean    |                                |
| restart_4 | boolean    |                                |
| count_5   | boolean    |                                |
| restart_5 | boolean    |                                |

#### Association

- belongs_to :user
- has_one :rule

<br>

### rules ãƒ†ãƒ¼ãƒ–ãƒ«

| Column | Type       | Options                        |
| :----- | :--------- | :----------------------------- |
| user   | references | null: false, foreign_key: true |
| if_1   | boolean    | null: false                    |
| then_1 | boolean    | null: false                    |
| if_2   | boolean    | null: false                    |
| then_2 | boolean    | null: false                    |
| if_3   | boolean    | null: false                    |
| then_3 | boolean    | null: false                    |
| if_4   | boolean    | null: false                    |
| then_4 | boolean    | null: false                    |
| if_5   | boolean    | null: false                    |
| then_5 | boolean    | null: false                    |

#### Association

- belongs_to :user
- belongs_to :habit, optional: true

<br>
<br>

# ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç­‰

#### ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ
- Rails 6.0.3.4
- ruby 2.6.5
- MySQL 5.6.47

#### æœ¬ç•ªç’°å¢ƒ
- Rails 6.0.3.4
- ruby 2.6.5
- capistrano 3.15.0
- unicorn 5.4.1
- nginx1
- MariaDB 5.5.68

<br>
<br>

# clone
```
% git clone https://github.com/erika618/action_app.git
% cd action_app
% bundle install
% rails db:create
% rails db:migrate
% yarn install
```

<br>
<br>

# çµåˆãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãƒ»ä½¿ã†ã‚³ãƒãƒ³ãƒ‰
```terminal
âœ…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ–°è¦ç™»éŒ²æ™‚ã®ç”»é¢é·ç§»ã‚’ç¢ºèª
% bundle exec rspec spec/system/users_spec.rb

âœ…æ–°è¦ç›®æ¨™è¨­å®šæ™‚ã®ç”»é¢é·ç§»ã‚’ç¢ºèª
% bundle exec rspec spec/system/objectives_spec.rb

âœ…æ–°è¦ã‚¤ãƒ•ã‚¼ãƒ³ãƒ«ãƒ¼ãƒ«è¨­å®šæ™‚ã®ç”»é¢é·ç§»ã‚’ç¢ºèª
% bundle exec rspec spec/system/rules_spec.rb
```

<br>

# ãƒ¢ãƒ‡ãƒ«å˜ä½“ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãƒ»ä½¿ã†ã‚³ãƒãƒ³ãƒ‰
```terminal
âœ…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ–°è¦ç™»éŒ²æ™‚ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¢ºèª
% bundle exec rspec spec/models/user_spec.rb

âœ…ç›®æ¨™è¨­å®šæ™‚ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¢ºèª
% bundle exec rspec spec/models/objective_spec.rb

âœ…ã‚¤ãƒ•ã‚¼ãƒ³ãƒ«ãƒ¼ãƒ«ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¢ºèª
% bundle exec rspec spec/models/rule_spec.rb
```

<br>

# ãã®ä»–ä½¿ç”¨ã—ã¦ã„ã‚‹gemãƒ»ä½¿ã†ã‚³ãƒãƒ³ãƒ‰
```terminal
ğŸš¨brakemanï¼ˆè„†å¼±æ€§ã«ç¹‹ãŒã‚‹ã‚³ãƒ¼ãƒ‰ãŒãªã„ã‹ç¢ºèªã™ã‚‹ãŸã‚ â€»å…¨ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»å…¨ã¦ã®è­¦å‘Šã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
% bundle exec brakeman -A -w1

ğŸš¨rails_best_practicesï¼ˆèª­ã¿ã‚„ã™ãæ­£ã—ã„ã‚³ãƒ¼ãƒ‰ã‹ç¢ºèªã™ã‚‹ãŸã‚ï¼‰
% rails_best_practices .

ğŸš¨rubocopï¼ˆã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’æ•´ãˆã‚‹ãŸã‚ï¼‰
% bundle exec rubocop -a
```